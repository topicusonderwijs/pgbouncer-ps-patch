diff --git a/src/sbuf.c b/src/sbuf.c
index 088bc06..885e7ee 100644
--- a/src/sbuf.c
+++ b/src/sbuf.c
@@ -501,6 +501,13 @@ static bool sbuf_queue_send(SBuf *sbuf)
 	return true;
 }
 
+bool sbuf_flush(SBuf *sbuf) {
+	if (sbuf->io) {
+		return sbuf_send_pending(sbuf);
+	}
+	return true;
+}
+
 /*
  * There's data in buffer to be sent. Returns bool if processing can continue.
  *
